while ($true) {
    Write-Output "Starting Claude task..."
    claude -p --dangerously-skip-permissions "根据以下要求，将 D:\Projects\DouyinLiveCapture\temp 改写为 C# WinUI3 程序，C# 代码放到 D:\Projects\DouyinLiveCapture\src 中；1. 阅读 CLAUDE.md，根据 CLAUDE.md 的指导完成功能；2. 阅读 重构分析文档.md，根据 重构分析文档.md 的分析结果完成功能；3. 阅读 TODO.md，根据 TODO.md 规划下一步工作；4. 你需要将 temp\DouyinLiveRecorder 中的录制设置、Cookie、登录、直播录制完整重构到 C# 代码中（除了推送功能之外的所有功能），然后编写完整的单元测试，然后确保全部都完整通过；5. 完成 temp\DouyinLiveRecorder 的重构之后，使用 MVVM 的模式，完成 UI 的开发。最外层是一个 NavigationView，第一个菜单项是直播 URL 配置，里面有一个表格，表格上方有添加按钮，可以添加多个平台的直播URL，URL 格式参考 temp\DouyinLiveRecorder\README.md，表格每一行可以编辑与删除。点击添加后，弹出一个 ContentDialog，里面可以配置名称、直播 URL、直播画质等所有 temp\DouyinLiveRecorder\config\config.ini 中的录制设置项目，可以留空，留空则保持默认，默认配置在全局设置中进行配置。表格顶部有开始录制和停止录制的功能，开始录制后则会定期轮询每个url，如果开播则开始录制，然后保存到指定的文件夹中。也可以针对表格每一行单独打开录制与停止录制。NavigationView 第二项是录制历史，可以看到历史的录制数据，可以根据直播间筛选，布局要合理。对于每次的录制，可以选择转码成 mp4 后保存。NavigationView 的设置按钮跳转到全局设置页面，可以配置 temp\DouyinLiveRecorder\config\config.ini 中的录制设置部分的内容；6. 仔细思考业务，功能要完整，UI 布局要合理、美观，完整实现直播流无人值守录制和转码的所有功能，支持原版的所有平台。这个应用应该是一个完整的，符合微软设计规范的，符合人体工程学的，生产可用的，功能丰富的 APP，你需要合理补全这个 APP 中的功能，对于每一个功能，需要编写完整的测试，并且保证全部通过；7. 仔细对比 temp\DouyinLiveRecorder 中的所有代码与 D:\Projects\DouyinLiveCapture\src 中的所有代码，然后根据要达成的目标更新，分析应该完成的工作，如何完成工作，然后更新 重构分析文档.md 与 TODO.md；8. 根据 TODO.md  逐一完成所有任务；9. 使用中文回答；10. 积极使用 context7、microsoft-learn、websearch 搜索文档；11. 代码要标准，简洁，符合微软的C#最佳实践，符合设计模式；12. 每次完成一个任务之后，使用 git 提交你的代码，防止丢失。13. 你需要使用 重构分析文档.md、TODO.md 来合理管理、恢复你的工作，我会使用一个无限循环的脚本 D:\Projects\DouyinLiveCapture\run.ps1 来不停地执行，你可能会失忆，所以你需要及时更新 重构分析文档.md、TODO.md，以便于下一轮更好地恢复上下文"
}